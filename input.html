<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>监听元素内容变化</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

<div id="targetElement">这是初始内容</div>

<script>
    const xhr = new XMLHttpRequest();
    xhr.open("POST", "https://openapi.baidu.com");
    xhr.setRequestHeader("X-PINGOTHER", "pingpong");
    xhr.setRequestHeader("Content-Type", "application/xml");
    xhr.onreadystatechange = handler;
    xhr.send("<person><name>Arun</name></person>");

    function handler() {
        alert("ss");
    }

    // $.get("https://openapi.baidu.com/oauth/2.0/token?grant_type=client_credentials&client_id=JsWfiW4Can4fdZt8P7xmyBkQ&client_secret=uIetDGkqb4cN5zc0zMwFwwydJDgS1KG1")
    // .done(function(script, data) {
    //     console.log(data);
    // })
    // .fail(function (xhr,settings,error){
    //     console.error("error", error);
    // });
    // $.ajax({
    //     url: 'https://openspeech.bytedance.com/api/v1/tts',
    //     type: 'POST',
    //     data: { param1: 'value1', param2: 'value2' },
    //     headers: {
    //         'Content-Type': 'application/json', // 设置 Content-Type 头为 JSON
    //         'Authorization': 'Bearer;token123' // 设置 Authorization 头
    //     },
    //     success: function(data) {
    //         console.log('请求成功:', data);
    //     },
    //     error: function(xhr, status, error) {
    //         console.error('请求失败:', error);
    //     }
    // });
    //
    // $.ajax({
    //     url: "https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=JsWfiW4Can4fdZt8P7xmyBkQ&client_secret=uIetDGkqb4cN5zc0zMwFwwydJDgS1KG1",
    //     type: "GET",
    //     dataType: "JSONP",
    //     success: function (result) {
    //         console.log(result);
    //     },
    //     error: function (error) {
    //        console.log(error);
    //     }
    // });
    // fetch('https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=JsWfiW4Can4fdZt8P7xmyBkQ&client_secret=uIetDGkqb4cN5zc0zMwFwwydJDgS1KG1', {
    //         // mode: 'no-cors',
    //         method: 'GET',
    //         headers: {
    //             'Content-Type': 'application/json',
    //             'Accept': 'application/json',
    //             "Access-Control-Allow-Origin": "*",
    //             "Access-Control-Allow-Headers": "Origin, X-Requested-With, Content-Type, Accept"
    //         }
    //     })
    //     .then(response => {
    //         if (!response.ok) {
    //             throw new Error('HTTP response error: ' + response.status);
    //         }
    //         return response.json();
    //     })
    //     .then(data => {
    //         console.log('请求成功:', data);
    //     })
    //     .catch(error => {
    //         console.error('请求失败:', error);
    //     });
    //
    // async function getAccessToken () {
    //     const response = await fetch('https://aip.baidubce.com/oauth/2.0/token?grant_type=client_credentials&client_id=JsWfiW4Can4fdZt8P7xmyBkQ&client_secret=uIetDGkqb4cN5zc0zMwFwwydJDgS1KG1',
    //         {
    //             mode: 'no-cors',
    //             method: 'POST',
    //             headers: {
    //                 'Content-Type': 'application/json',
    //                 'Accept': 'application/json'
    //             }
    //         }
    //     );
    //
    //     if(!response.ok) {
    //         alert('Network response was not ok: ' + response.statusText);
    //     }
    //
    //     const data = await response.text();
    //
    //     console.log(data);
    //     return data;
    // }
    // ( async() => {
    //     // 构建请求的参数
    //     var requestData = {
    //         cuid: 'bNfbCBQoivoJP3RvDe20MNjphL6yGN0y',
    //         ctp: '1',
    //         lan: 'zh',
    //         spd: '5',
    //         pit: '5',
    //         vol: '5',
    //         per: '1',
    //         aue: '3'
    //     };
    //
    //     requestData['txt'] = encodeURIComponent(encodeURIComponent("车"));
    //     requestData['tok'] = await getAccessToken();
    //
    //     // 发起 POST 请求
    //     fetch('https://tsn.baidu.com/text2audio', {
    //         mode: 'no-cors',
    //         method: 'POST',
    //         headers: {
    //             'Content-Type': 'application/x-www-form-urlencoded',
    //             'Accept': '*/*'
    //         },
    //         body: JSON.stringify(requestData)
    //     })
    //         .then(response => {
    //             if (!response.ok) {
    //                 throw new Error('Network response was not ok');
    //             }
    //             console.log(response.json());
    //         })
    //         .then(data => {
    //             console.log('POST 请求成功:', data);
    //         })
    //         .catch(error => {
    //             console.error('POST 请求失败:', error);
    //         });
    // })();


</script>

</body>
</html>
